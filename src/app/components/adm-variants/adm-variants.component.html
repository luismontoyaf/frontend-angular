<div class="flex justify-center items-start px-2 sm:px-4">
  <div
    class="w-full sm:w-4/5 md:w-2/3 lg:w-1/2
           border border-gray-300 rounded-md
           shadow-lg shadow-gray-400
           m-3 sm:m-5 p-4 sm:p-6"
  >

    <h3 class="text-lg sm:text-xl font-semibold text-sky-900 mt-2 mb-4 text-center sm:text-left">
      Nueva Variante
    </h3>

    <form [formGroup]="variantsForm" class="space-y-3">

      <!-- Nombre -->
      <div>
        <p class="text-sm sm:text-base mb-1">Nombre</p>
        <input
          type="text"
          formControlName="name"
          class="w-full p-2 border border-gray-300 rounded-md
                 focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>

      <!-- Valores -->
      <div>
        <span class="text-sm sm:text-base font-medium">Valores</span>
      </div>

      <div formArrayName="atributes" class="space-y-2">
        <div
          *ngFor="let atribute of atributes.controls; let i = index"
          [formGroupName]="i"
          class="flex flex-col sm:flex-row gap-2 sm:items-center"
        >
          <input
            type="text"
            placeholder="Valor (Ej: Rojo, M, Algodón)"
            formControlName="value"
            class="w-full border rounded p-2"
          />

          <button
            type="button"
            (click)="removeVariant(i)"
            class="self-end sm:self-auto text-red-500 hover:text-red-700"
          >
            ❌
          </button>
        </div>
      </div>

    </form>

    <!-- Agregar variante -->
    <button
      type="button"
      (click)="addVariantValue()"
      class="mt-4 w-full sm:w-auto px-4 py-2
             border border-blue-500 text-blue-500
             rounded hover:bg-blue-50 transition"
    >
      Agregar Variante
    </button>

    <!-- Guardar -->
    <div class="flex justify-center sm:justify-end mt-4">
      <button
        type="button"
        (click)="onSubmit()"
        class="w-full sm:w-auto px-4 py-2
               bg-blue-500 text-white rounded
               hover:bg-blue-600 transition"
      >
        {{ isEditMode ? 'Actualizar Variante' : 'Guardar Variante' }}
      </button>
    </div>

    <!-- Mensaje -->
    <p
      *ngIf="message"
      class="text-center sm:text-left text-red-600 mt-4"
    >
      {{ message }}
    </p>

  </div>
</div>