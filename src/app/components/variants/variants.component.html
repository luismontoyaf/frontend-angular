<div class="mx-auto p-2 sm:p-4 w-full h-full">
  <div
    class="h-full transition-all duration-300"
    [class.ml-16]="isMenuOpen"
  >

    <!-- Contenido -->
    <div class="h-full">

      <!-- Buscador -->
      <div class="mb-4">
        <input
          type="text"
          placeholder="Buscar variante..."
          [(ngModel)]="searchTerm"
          (input)="filterVariants()"
          (click)="showOptions = true"
          class="w-full p-2 border border-gray-300 rounded-md
                 focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>

      <mat-divider class="mb-4"></mat-divider>

      <!-- BotÃ³n agregar -->
      <div class="flex justify-center sm:justify-end mb-4">
        <button
          routerLink="/dashboard/variants/adm-variants"
          class="w-full mt-4 sm:w-auto sm:min-w-[200px]
                 bg-sky-900 text-white px-4 py-2 rounded
                 hover:bg-sky-800 transition disabled:opacity-50"
        >
          Agregar Variante
        </button>
      </div>

      <!-- Tabla responsive -->
      <div class="relative overflow-x-auto shadow-md rounded-lg">
        <table class="w-full min-w-[640px] text-sm text-left text-gray-600">
          
          <thead class="text-xs uppercase bg-gray-100 text-gray-700">
            <tr class="text-center">
              <th class="px-4 py-3">Nombre Variante</th>
              <th class="px-4 py-3">Valores</th>
              <th class="px-4 py-3">Estado</th>
              <th class="px-4 py-3">Opciones</th>
            </tr>
          </thead>

          <tbody>
            @for (variant of filteredVariants(); track $index) {
              <tr
                class="bg-white border-b text-center hover:bg-gray-50 transition"
              >
                <td class="px-4 py-2 font-semibold text-gray-900">
                  {{ variant.name }}
                </td>

                <td class="px-4 py-2 font-medium text-gray-800">
                  {{ getAtributesText(variant.jsonValues) }}
                </td>

                <td class="px-4 py-2">
                  <span
                    class="px-2 py-1 rounded text-xs font-semibold"
                    [ngClass]="variant.state
                      ? 'bg-green-100 text-green-700'
                      : 'bg-red-100 text-red-700'"
                  >
                    {{ variant.state ? 'Activo' : 'Inactivo' }}
                  </span>
                </td>

                <td class="px-4 py-2">
                  <div class="flex justify-center gap-3">
                    <mat-icon
                      class="text-blue-600 cursor-pointer hover:text-blue-800"
                      matTooltip="Activar/Desactivar"
                      (click)="changeStatusVariant(variant.id)"
                    >
                      touch_app
                    </mat-icon>

                    <mat-icon
                      class="text-blue-600 cursor-pointer hover:text-blue-800"
                      matTooltip="Editar"
                      [routerLink]="['/dashboard/variants/adm-variants', variant.id]"
                    >
                      edit
                    </mat-icon>

                    <mat-icon
                      class="text-blue-600 cursor-pointer hover:text-red-600"
                      matTooltip="Eliminar"
                      (click)="deleteVariant(variant.id)"
                    >
                      delete_forever
                    </mat-icon>
                  </div>
                </td>
              </tr>
            }
          </tbody>

        </table>
      </div>

    </div>
  </div>
</div>
