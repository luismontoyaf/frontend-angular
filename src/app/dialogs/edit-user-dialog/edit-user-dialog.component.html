<div
  class="w-full max-w-5xl mx-auto bg-white rounded-2xl shadow-xl
         p-6 md:p-8 overflow-y-auto max-h-[90vh]"
>
  <h2 mat-dialog-title class="text-2xl font-semibold text-center mb-4">
    Editar Usuario
  </h2>

  <span class="block text-center font-bold text-gray-700 mb-6">
    ¡Estos son los campos que puedes modificar!
  </span>

  <div class="h-px bg-gray-200 mb-6"></div>

  <form
    [formGroup]="registerForm"
    (ngSubmit)="updateUser()"
    class="grid grid-cols-1 md:grid-cols-2 gap-6"
  >
    <!-- Nombres -->
    <div class="flex flex-col gap-1.5">
      <label class="label">Nombres</label>
      <input type="text" formControlName="nombre" class="input-base" />
      <p *ngIf="registerForm.get('nombre')?.touched && registerForm.get('nombre')?.invalid" class="error-text">
        El nombre es requerido y debe tener al menos 3 caracteres.
      </p>
    </div>

    <!-- Apellidos -->
    <div class="flex flex-col gap-1.5">
      <label class="label">Apellidos</label>
      <input type="text" formControlName="apellidos" class="input-base" />
      <p *ngIf="registerForm.get('apellidos')?.touched && registerForm.get('apellidos')?.invalid" class="error-text">
        El apellido es requerido y debe tener al menos 3 caracteres.
      </p>
    </div>

    <!-- Tipo Documento -->
    <div class="flex flex-col gap-1.5">
      <label class="label">Tipo de Documento</label>
      <select formControlName="tipoDocumento" class="input-base">
        <option value="" disabled selected>Selecciona un tipo</option>
        <option *ngFor="let tipo of tiposDocumento" [value]="tipo">
          {{ tipo }}
        </option>
      </select>
    </div>

    <!-- Número Documento -->
    <div class="flex flex-col gap-1.5">
      <label class="label">Número de Documento</label>
      <input type="text" formControlName="numDocumento" class="input-base" />
    </div>

    <!-- Email -->
    <div class="flex flex-col gap-1.5">
      <label class="label">Email</label>
      <input type="email" formControlName="correo" class="input-base" />
    </div>

    <!-- Fecha nacimiento -->
    <div class="flex flex-col gap-1.5">
      <label class="label">Fecha de nacimiento</label>
      <input type="date" formControlName="fechaNacimiento" class="input-base" />
    </div>

    <!-- Fecha ingreso -->
    <div class="flex flex-col gap-1.5">
      <label class="label">Fecha de ingreso</label>
      <input type="date" formControlName="fechaIngreso" class="input-base" />
    </div>

    <!-- Rol -->
    <div class="flex flex-col gap-1.5">
      <label class="label">Tipo de usuario</label>
      <select formControlName="rol" class="input-base">
        <option value="" disabled selected>Selecciona rol</option>
        <option *ngFor="let tipoUsuario of tiposUsuario" [value]="tipoUsuario">
          {{ tipoUsuario }}
        </option>
      </select>
    </div>

    <!-- Celular -->
    <div class="flex flex-col gap-1.5">
      <label class="label">Celular</label>
      <input type="text" formControlName="celular" class="input-base" />
    </div>

    <!-- Dirección -->
    <div class="flex flex-col gap-1.5">
      <label class="label">Dirección</label>
      <input type="text" formControlName="direccion" class="input-base" />
    </div>

    <!-- Género -->
    <div class="flex flex-col gap-1.5">
      <label class="label">Género</label>
      <select formControlName="genero" class="input-base">
        <option value="" disabled selected>Selecciona género</option>
        <option *ngFor="let genero of tiposGenero" [value]="genero">
          {{ genero }}
        </option>
      </select>
    </div>

    <!-- Cambiar contraseña -->
    <div class="flex flex-col gap-1.5">
      <label class="label">¿Desea cambiar la contraseña?</label>
      <select formControlName="changePassword" class="input-base">
        <option value="Si">Sí</option>
        <option value="No">No</option>
      </select>
    </div>

    <!-- Password -->
    <div *ngIf="changePassword === 'Si'" class="flex flex-col gap-1.5">
      <label class="label">Contraseña</label>
      <input type="password" formControlName="contrasena" class="input-base" />
    </div>

    <!-- Confirm -->
    <div *ngIf="changePassword === 'Si'" class="flex flex-col gap-1.5">
      <label class="label">Confirmar contraseña</label>
      <input type="password" formControlName="confirmContrasena" class="input-base" />
      <p *ngIf="registerForm.hasError('mismatch')" class="error-text">
        Las contraseñas no coinciden.
      </p>
    </div>

    <!-- Botón -->
    <div class="md:col-span-2 flex justify-center mt-4">
      <button
        type="submit"
        [disabled]="registerForm.invalid"
        class="w-full md:w-2/3
               bg-gradient-to-r from-sky-800 to-sky-900
               hover:from-sky-700 hover:to-sky-800
               text-white font-semibold py-3 rounded-xl
               shadow-md transition
               disabled:opacity-50 disabled:cursor-not-allowed"
      >
        Editar Usuario
      </button>
    </div>
  </form>

  <p *ngIf="messageSuccess" class="mt-4 text-green-700 text-center font-medium">
    {{ messageSuccess }}
  </p>

  <p *ngIf="messageError" class="mt-4 text-red-600 text-center font-medium">
    {{ messageError }}
  </p>
</div>
